filter(state %!in% c("ID", "WA")) %>%
filter(year %in% c(1984:2019)) %>%
group_by(year, state) %>%
mutate(year = as.numeric(year)) %>%
summarize(n_wells = sum(n_wells)) %>%
ggplot(aes(year, n_wells)) +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "Year", y = "Wells (n)") +
theme_classic() +
theme(legend.position = "none") +
facet_wrap(~ state)
figure_s2
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
filter(year %in% c(1984:2019)) %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells), state = state) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
filter(year %in% c(1984:2019)) %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells)) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
wells_wildfire_state_year %>%
filter(year %in% c(1984:2019)) %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells), state = state)
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
filter(year %in% c(1984:2019)) %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells), state = state) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
wells_wildfire_state_year %>%
filter(year %in% c(1984:2019)) %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells))
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
filter(year %in% c(1984:2019)) %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells)) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
filter(year %in% c(1984:2019)) %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells)) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
# exports figures
ggsave(filename = "figure_3a.png", plot = figure_3a, device = "png",
height = 2.2, width = 4, path = "output/figures/components/")
figure_3a
# figure s1 ................................................................
# total area burned by year
figure_s2 <- wells_wildfire_state_year %>%
filter(state %!in% c("ID", "WA")) %>%
filter(year %in% c(1984:2019)) %>%
group_by(year, state) %>%
mutate(year = as.numeric(year)) %>%
summarize(n_wells = sum(n_wells)) %>%
ggplot(aes(year, n_wells)) +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "Year", y = "Wells (n)") +
theme_classic() +
theme(legend.position = "none") +
facet_wrap(~ state)
figure_s2
# figure s1 ................................................................
# total area burned by year
figure_s2 <- wells_wildfire_state_year %>%
filter(state %!in% c("ID", "WA")) %>%
filter(year %in% c(1984:2019)) %>%
group_by(year, state) %>%
mutate(year = as.numeric(year)) %>%
summarize(n_wells = sum(n_wells)) %>%
ggplot(aes(year, n_wells)) +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "Year", y = "Wells (n)") +
theme_classic() +
theme(legend.position = "none") +
facet_wrap(~ state)
# exports figures
ggsave(filename = "figure_s2.png", plot = figure_s2, device = "png",
height = 5.6, width = 8.2, path = "output/figures/components/")
# figure s1 ................................................................
# total area burned by year
figure_s3 <- wells_wildfire_state_year %>%
filter(state %!in% c("ID", "WA")) %>%
filter(year %in% c(1984:2019)) %>%
group_by(year, state) %>%
mutate(year = as.numeric(year)) %>%
summarize(n_wells_buffer_1km = sum(n_wells_buffer_1km)) %>%
ggplot(aes(year, n_wells_buffer_1km)) +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "Year", y = "Wells (n)") +
theme_classic() +
theme(legend.position = "none") +
facet_wrap(~ state)
figure_s3
# figure s1 ................................................................
# total area burned by year
figure_s3 <- wells_wildfire_state_year %>%
filter(state %!in% c("ID", "WA")) %>%
filter(year %in% c(1984:2019)) %>%
group_by(year, state) %>%
mutate(year = as.numeric(year)) %>%
summarize(n_wells_buffer_1km = sum(n_wells_buffer_1km)) %>%
ggplot(aes(year, n_wells_buffer_1km)) +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "Year", y = "Wells (n)") +
theme_classic() +
theme(legend.position = "none") +
facet_wrap(~ state)
# exports figures
ggsave(filename = "figure_s3.png", plot = figure_s3, device = "png",
height = 5.6, width = 8.2, path = "output/figures/components/")
# figure s1 ................................................................
# total area burned by year
figure_s2 <- wells_wildfire_state_year %>%
filter(state %!in% c("ID", "WA")) %>%
filter(year %in% c(1984:2019)) %>%
group_by(year, state) %>%
mutate(year = as.numeric(year)) %>%
summarize(n_wells_buffer_1km = sum(n_wells_buffer_1km)) %>%
ggplot(aes(year, n_wells_buffer_1km)) +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "Year", y = "Wells (n)") +
theme_classic() +
theme(legend.position = "none")
figure_s2
# figure s1 ................................................................
# total area burned by year
figure_s2 <- wells_wildfire_state_year %>%
filter(state %!in% c("ID", "WA")) %>%
filter(year %in% c(1984:2019)) %>%
group_by(year) %>%
mutate(year = as.numeric(year)) %>%
summarize(n_wells_buffer_1km = sum(n_wells_buffer_1km)) %>%
ggplot(aes(year, n_wells_buffer_1km)) +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "Year", y = "Wells (n)") +
theme_classic() +
theme(legend.position = "none")
figure_s2
# exports figures
ggsave(filename = "figure_s2.png", plot = figure_s2, device = "png",
height = 5, width = 6, path = "output/figures/components/")
pop_exposed_state_year <- read_csv("data/processed/pop_exposed_state_year.csv")
pop_exposed_state_year %>%
group_by(year, state) %>%
summarize(pop_exposed_n = sum(pop_exposed_n)) %>%
ggplot(aes(year, pop_exposed_n))
pop_exposed_state_year %>%
group_by(year, state) %>%
summarize(pop_exposed_n = sum(pop_exposed_n))
# estimated total U.S. population within 1 km of oil and gas wells that were in
# wildfire burn areas by state and year
figure_3b <- pop_exposed_state_year %>%
group_by(year, state) %>%
summarize(pop_exposed_n = sum(pop_exposed_n)) %>%
ggplot(aes(year, pop_exposed_n))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(legend.position = "none") +
facet_wrap(~ state)
figure_3b
rm(figure_3a)
rm(figure_3b)
# estimated total U.S. population within 1 km of oil and gas wells that were in
# wildfire burn areas by state and year
figure_s5 <- pop_exposed_state_year %>%
group_by(year, state) %>%
summarize(pop_exposed_n = sum(pop_exposed_n)) %>%
ggplot(aes(year, pop_exposed_n))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(legend.position = "none") +
facet_wrap(~ state)
figure_s5
# exports figures
ggsave(filename = "figure_s5.png", plot = figure_s5, device = "png",
height = 5.6, width = 8.2, path = "output/figures/components/")
# attaches necessary packages
source("code/0-setup/01-setup.R")
library("lubridate")
pop_exposed_state_year <- read_csv("data/processed/pop_exposed_state_year.csv")
# estimated total U.S. population within 1 km of oil and gas wells that were in
# wildfire burn areas by state and year
figure_s5 <- pop_exposed_state_year %>%
group_by(year, state) %>%
summarize(pop_exposed_n = sum(pop_exposed_n)) %>%
ggplot(aes(year, pop_exposed_n))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(legend.position = "none") +
facet_wrap(~ state)
# estimated total U.S. population within 1 km of oil and gas wells that were in
# wildfire burn areas by state and year
figure_s5 <- pop_exposed_state_year %>%
group_by(year, state) %>%
summarize(pop_exposed_n = sum(pop_exposed_n)) %>%
ggplot(aes(year, pop_exposed_n))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "Year", y = "Population (n)") +
theme_classic() +
theme(legend.position = "none") +
facet_wrap(~ state)
# exports figures
ggsave(filename = "figure_s5.png", plot = figure_s5, device = "png",
height = 5.6, width = 8.2, path = "output/figures/components/")
# estimated total U.S. population within 1 km of oil and gas wells that were in
# wildfire burn areas by state and year
figure_s5 <- pop_exposed_state_year %>%
group_by(year, state) %>%
summarize(pop_exposed_n = sum(pop_exposed_n)) %>%
ggplot(aes(year, pop_exposed_n))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "Year", y = "Population (n)") +
theme_classic() +
theme(legend.position = "none") +
facet_wrap(~ state)
# exports figures
ggsave(filename = "figure_s5.png", plot = figure_s5, device = "png",
height = 5.6, width = 8.2, path = "output/figures/components/")
figure_s5
# attaches necessary packages
source("code/0-setup/01-setup.R")
wells_individual_wildfires <-
read_csv("data/processed/wells_individual_wildfires.csv")
ells_individual_wildfires %>%
filter(year %in% c(1984:2019)) %>%
mutate(year = as.factor(year),
wildfire_area_ha = (as.numeric(wildfire_area_m2) / 10000)) %>%
group_by(year)
wells_individual_wildfires %>%
filter(year %in% c(1984:2019)) %>%
mutate(year = as.factor(year),
wildfire_area_ha = (as.numeric(wildfire_area_m2) / 10000)) %>%
group_by(year)
wells_individual_wildfires %>%
filter(year %in% c(1984:2019)) %>%
mutate(year = as.factor(year),
wildfire_area_ha = (as.numeric(wildfire_area_m2) / 10000)) %>%
group_by(year) %>%
summarize(area_burned_ha = sum(wildfire_area_ha)) %>%
mutate(year = as.numeric(year)) %>% View(
)
# attaches necessary packages
source("code/0-setup/01-setup.R")
library("lubridate")
wells_individual_wildfires <-
read_csv("data/processed/wells_individual_wildfires.csv")
?geom_smooth
# figure 1b ................................................................
# total area burned by year
figure_1b <- wells_individual_wildfires %>%
filter(year %in% c(1984:2019)) %>%
mutate(year = as.factor(year),
wildfire_area_ha = (as.numeric(wildfire_area_m2) / 10000)) %>%
group_by(year) %>%
summarize(area_burned_ha = sum(wildfire_area_ha)) %>%
mutate(year = as.numeric(year)) %>%
ggplot(aes(year, area_burned_ha)) +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_1b
# exports figures
ggsave(filename = "figure_1b.png", plot = figure_1b, device = "png",
height = 2.5, width = 10, path = "output/figures/components/")
# data input
wells_kbdi <- readRDS("data/processed/wells_kbdi.rds")
wells_wildfire_state_year <-
read_csv("data/processed/wells_wildfire_state_year.csv")
pop_exposed_state_year <-
read_csv("data/processed/pop_exposed_state_year.csv")
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
filter(year %in% c(1984:2019)) %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells)) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
# exports figures
ggsave(filename = "figure_3a.png", plot = figure_3a, device = "png",
height = 2.2, width = 4, path = "output/figures/components/")
# figure 3b ................................................................
# estimated total U.S. population within 1 km of oil and gas wells that were in
# wildfire burn areas by year
figure_3b <- pop_exposed_state_year %>%
group_by(year) %>%
summarize(pop_exposed_n = sum(pop_exposed_n)) %>%
ggplot(aes(year, pop_exposed_n))  +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3b
# exports figures
ggsave(filename = "figure_3b.png", plot = figure_3b, device = "png",
height = 2.4, width = 4, path = "output/figures/components/")
# data input
wells_individual_wildfires <-
read_csv("data/processed/wells_individual_wildfires.csv")
# figure s1 ................................................................
# total area burned by year
figure_s1 <- wells_individual_wildfires %>%
filter(state %!in% c("ID", "WA")) %>%
filter(year %in% c(1984:2019)) %>%
mutate(wildfire_area_ha = (as.numeric(wildfire_area_m2) / 10000)) %>%
group_by(year, state) %>%
mutate(year = as.numeric(year)) %>%
summarize(area_burned_ha = sum(wildfire_area_ha)) %>%
ggplot(aes(year, area_burned_ha)) +
geom_smooth(method = "lm", formula = y ~ x,  se = FALSE,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "Year", y = "Wildfire burn area (ha)") +
theme_classic() +
theme(legend.position = "none") +
facet_wrap(~ state)
figure_s1
# exports figures
ggsave(filename = "figure_s1.png", plot = figure_s1, device = "png",
height = 5.6, width = 8.2, path = "output/figures/components/")
# data input
wells_wildfire_state_year <-
read_csv("data/processed/wells_wildfire_state_year.csv")
# figure s1 ................................................................
# total area burned by year
figure_s2 <- wells_wildfire_state_year %>%
filter(state %!in% c("ID", "WA")) %>%
filter(year %in% c(1984:2019)) %>%
group_by(year) %>%
mutate(year = as.numeric(year)) %>%
summarize(n_wells_buffer_1km = sum(n_wells_buffer_1km)) %>%
ggplot(aes(year, n_wells_buffer_1km)) +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "Year", y = "Wells (n)") +
theme_classic() +
theme(legend.position = "none")
# exports figures
ggsave(filename = "figure_s2.png", plot = figure_s2, device = "png",
height = 5, width = 6, path = "output/figures/components/")
figure_s2
# figure s1 ................................................................
# total area burned by year
figure_s3 <- wells_wildfire_state_year %>%
filter(state %!in% c("ID", "WA")) %>%
filter(year %in% c(1984:2019)) %>%
group_by(year, state) %>%
mutate(year = as.numeric(year)) %>%
summarize(n_wells = sum(n_wells)) %>%
ggplot(aes(year, n_wells)) +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "Year", y = "Wells (n)") +
theme_classic() +
theme(legend.position = "none") +
facet_wrap(~ state)
# exports figures
ggsave(filename = "figure_s3.png", plot = figure_s3, device = "png",
height = 5.6, width = 8.2, path = "output/figures/components/")
# figure s1 ................................................................
# total area burned by year
figure_s4 <- wells_wildfire_state_year %>%
filter(state %!in% c("ID", "WA")) %>%
filter(year %in% c(1984:2019)) %>%
group_by(year, state) %>%
mutate(year = as.numeric(year)) %>%
summarize(n_wells_buffer_1km = sum(n_wells_buffer_1km)) %>%
ggplot(aes(year, n_wells_buffer_1km)) +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "Year", y = "Wells (n)") +
theme_classic() +
theme(legend.position = "none") +
facet_wrap(~ state)
# exports figures
ggsave(filename = "figure_s4.png", plot = figure_s4, device = "png",
height = 5.6, width = 8.2, path = "output/figures/components/")
pop_exposed_state_year <- read_csv("data/processed/pop_exposed_state_year.csv")
# estimated total U.S. population within 1 km of oil and gas wells that were in
# wildfire burn areas by state and year
figure_s5 <- pop_exposed_state_year %>%
group_by(year, state) %>%
summarize(pop_exposed_n = sum(pop_exposed_n)) %>%
ggplot(aes(year, pop_exposed_n))  +
geom_smooth(method = "lm", formula = y ~ x, se = FALSE,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "Year", y = "Population (n)") +
theme_classic() +
theme(legend.position = "none") +
facet_wrap(~ state)
# exports figures
ggsave(filename = "figure_s5.png", plot = figure_s5, device = "png",
height = 5.6, width = 8.2, path = "output/figures/components/")
