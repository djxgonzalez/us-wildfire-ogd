# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells),
state   = state) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longddash") +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
# exports figures
ggsave(filename = "figure_3a.png", plot = figure_3a, device = "png",
height = 2.2, width = 4, path = "output/figures/components/")
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells),
state   = state) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash") +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
# exports figures
ggsave(filename = "figure_3a.png", plot = figure_3a, device = "png",
height = 2.2, width = 4, path = "output/figures/components/")
?geom_smooth
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells),
state   = state) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash") +
geom_smooth(method = "gam", formula = y ~ x,
color = "gray", lwd = 0.3, linetype = "line") +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells),
state   = state) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash") +
geom_smooth(method = "gam",
color = "gray", lwd = 0.3, linetype = "line") +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells),
state   = state) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash") +
geom_smooth(method = "gam", lwd = 0.3, linetype = "line") +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells),
state   = state) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash") +
geom_smooth(method = "gam", formula = y ~ x,
color = "gray", lwd = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells),
state   = state) %>%
ggplot(aes(year, n_wells))  +
# geom_smooth(method = "lm", formula = y ~ x,
# color = "black", lwd = 0.3, linetype = "longdash") +
geom_smooth(method = "gam", formula = y ~ x,
color = "gray", lwd = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells),
state   = state) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash") +
geom_smooth(method = "gam", formula = y ~ poly(x, 2),
color = "gray", lwd = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells),
state   = state) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash") +
geom_smooth(method = "lm", formula = y ~ poly(x, 2),
color = "blue", lwd = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells),
state   = state) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.5) +
geom_smooth(method = "lm", formula = y ~ poly(x, 2),
color = "blue", fill = blue, lwd = 0.3, alpha = 0.5) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells),
state   = state) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.5) +
geom_smooth(method = "lm", formula = y ~ poly(x, 2),
color = "blue", fill = "blue", lwd = 0.3, alpha = 0.5) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells),
state   = state) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_smooth(method = "lm", formula = y ~ poly(x, 2),
color = "blue", fill = "blue", lwd = 0.3, alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells),
state   = state) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_smooth(method = "lm", formula = y ~ poly(x, 3),
color = "blue", fill = "blue", lwd = 0.3, alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
# figure 3a ................................................................
# count of oil and gas wells in wildfire burn areas by year
figure_3a <- wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n_wells = sum(n_wells),
state   = state) %>%
ggplot(aes(year, n_wells))  +
geom_smooth(method = "lm", formula = y ~ x,
color = "black", lwd = 0.3, linetype = "longdash", alpha = 0.3) +
geom_smooth(method = "lm", formula = y ~ poly(x, 2),
color = "blue", fill = "blue", lwd = 0.3, alpha = 0.3) +
geom_point(size = 0.6) +
labs(x = "", y = "") +
theme_classic() +
theme(axis.line.x  = element_blank(),  # removes x-axis
axis.ticks.x = element_blank(),
axis.text.x  = element_blank(),
axis.text.y  = element_blank(),
legend.position = "none")
figure_3a
# exports figures
ggsave(filename = "figure_3a.png", plot = figure_3a, device = "png",
height = 2.2, width = 4, path = "output/figures/components/")
knitr::opts_chunk$set(echo=FALSE)
source("../../code/0-setup/01-setup.R")
wells_wildfire_state_year <-
readRDS("../../data/processed/wells_wildfire_state_year.rds")
wells_wildfire_state_year %>%
filter(year %in% c(1984:2020)) %>%
group_by(year) %>%
summarize(n = sum(n_wells),
n_wells_buffer_1km = sum(n_wells_buffer_1km))
wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n = sum(n_wells)) %>%
ggplot() +
geom_bar(aes(year, n), stat = "identity") +
labs(x = "Year", y = "Wells (n)") +
theme_classic()
wells_wildfire_state_year %>%
filter(year %in% c(1984:2019)) %>%  # omitting 2020 with incomplete fire data
group_by(year) %>%
summarize(n = sum(n_wells)) %>%
ggplot(aes(year, n)) +
geom_point() +
geom_smooth(method = "lm", color = "black") +
geom_smooth(method = "lm", color = "blue", formula = y ~ poly(x, 2)) +
labs(x = "Year", y = "Wells (n)") +
theme_classic()
model_fit <- glm(n_wells ~ year + factor(state),
data = wells_wildfire_state_year)
summary(model_fit)
wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n = sum(n_wells_buffer_1km)) %>%
ggplot() +
geom_bar(aes(year, n), stat = "identity") +
labs(x = "Year", y = "Wells (n)") +
theme_classic()
wells_wildfire_state_year %>%
filter(year %in% c(1984:2019)) %>%  # omitting 2020 with incomplete fire data
group_by(year) %>%
summarize(n = sum(n_wells_buffer_1km)) %>%
ggplot(aes(year, n)) +
geom_point() +
geom_smooth(method = "lm", color = "black") +
geom_smooth(method = "lm", color = "blue", formula = y ~ poly(x, 2)) +
labs(x = "Year", y = "Wells (n)") +
theme_classic()
model_fit <- glm(n_wells_buffer_1km ~ year + factor(state),
data = wells_wildfire_state_year)
summary(model_fit)
wells_wildfire_state_year %>%
group_by(state) %>%
summarize(n_wells_by_state = sum(n_wells),
n_wells_buffer_1km_by_state = sum(n_wells_buffer_1km)) %>%
arrange(desc(n_wells_by_state))
wells_wildfire_state_year %>%
group_by(state) %>%
summarize(n = sum(n_wells)) %>%
ggplot() +
geom_bar(aes(state, n), stat = "identity") +
labs(x = "State", y = "Wells (n)") +
theme_classic()
wells_wildfire_state_year %>%
filter(year %in% c(1984:2020)) %>%
group_by(state, year) %>%
summarize(n = sum(n_wells),
n_wells_buffer_1km = sum(n_wells_buffer_1km))
wells_wildfire_state_year %>%
group_by(state, year) %>%
summarize(n = sum(n_wells)) %>%
ggplot() +
geom_bar(aes(year, n), stat = "identity") +
labs(x = "Year", y = "Wells (n)") +
facet_wrap(. ~ state) +
theme_classic()
wells_wildfire_state_year %>%
filter(year %in% c(1984:2019)) %>%  # omitting 2020 with incomplete fire data
group_by(state, year) %>%
summarize(n = sum(n_wells)) %>%
ggplot(aes(year, n)) +
geom_point() +
geom_smooth(method = "lm", color = "black") +
geom_smooth(method = "lm", color = "blue", formula = y ~ poly(x, 2)) +
labs(x = "Year", y = "Wells (n)") +
facet_wrap(. ~ state) +
theme_classic()
model_fit <- glm(n_wells ~ year,
data = subset(wells_wildfire_state_year, state == "CA"))
summary(model_fit)
model_fit <- glm(n_wells ~ year,
data = subset(wells_wildfire_state_year, state == "OK"))
summary(model_fit)
model_fit <- glm(n_wells ~ year,
data = subset(wells_wildfire_state_year, state == "TX"))
summary(model_fit)
model_fit <- glm(n_wells ~ year,
data = subset(wells_wildfire_state_year, state == "KS"))
summary(model_fit)
model_fit <- glm(n_wells ~ year,
data = subset(wells_wildfire_state_year, state == "NM"))
summary(model_fit)
# attaches functions .....................................................
source("code/0-setup/01-setup.R")
## assessments by state-year
wells_wildfire_state_year <-
read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_ak.csv") %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_ar.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_az.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_ca.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_co.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_ks.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_la.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_mo.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_mt.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_nd.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_ne.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_nm.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_nv.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_ok.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_or.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_sd.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_tx.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_ut.csv")) %>%
bind_rows(read_csv("data/interim/wells_wildfire_year/wells_wildfire_year_wy.csv"))
saveRDS(wells_wildfire_state_year,
"data/processed/wells_wildfire_state_year.rds")
write_csv(wells_wildfire_state_year,
"data/processed/wells_wildfire_state_year.csv")
knitr::opts_chunk$set(echo=FALSE)
source("../../code/0-setup/01-setup.R")
wells_wildfire_state_year <-
readRDS("../../data/processed/wells_wildfire_state_year.rds")
wells_wildfire_state_year %>%
filter(year %in% c(1984:2020)) %>%
group_by(year) %>%
summarize(n = sum(n_wells),
n_wells_buffer_1km = sum(n_wells_buffer_1km))
wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n = sum(n_wells)) %>%
ggplot() +
geom_bar(aes(year, n), stat = "identity") +
labs(x = "Year", y = "Wells (n)") +
theme_classic()
wells_wildfire_state_year %>%
filter(year %in% c(1984:2019)) %>%  # omitting 2020 with incomplete fire data
group_by(year) %>%
summarize(n = sum(n_wells)) %>%
ggplot(aes(year, n)) +
geom_point() +
geom_smooth(method = "lm", color = "black") +
geom_smooth(method = "lm", color = "blue", formula = y ~ poly(x, 2)) +
labs(x = "Year", y = "Wells (n)") +
theme_classic()
model_fit <- glm(n_wells ~ year + factor(state),
data = wells_wildfire_state_year)
summary(model_fit)
wells_wildfire_state_year %>%
group_by(year) %>%
summarize(n = sum(n_wells_buffer_1km)) %>%
ggplot() +
geom_bar(aes(year, n), stat = "identity") +
labs(x = "Year", y = "Wells (n)") +
theme_classic()
wells_wildfire_state_year %>%
filter(year %in% c(1984:2019)) %>%  # omitting 2020 with incomplete fire data
group_by(year) %>%
summarize(n = sum(n_wells_buffer_1km)) %>%
ggplot(aes(year, n)) +
geom_point() +
geom_smooth(method = "lm", color = "black") +
geom_smooth(method = "lm", color = "blue", formula = y ~ poly(x, 2)) +
labs(x = "Year", y = "Wells (n)") +
theme_classic()
model_fit <- glm(n_wells_buffer_1km ~ year + factor(state),
data = wells_wildfire_state_year)
summary(model_fit)
wells_wildfire_state_year %>%
group_by(state) %>%
summarize(n_wells_by_state = sum(n_wells),
n_wells_buffer_1km_by_state = sum(n_wells_buffer_1km)) %>%
arrange(desc(n_wells_by_state))
wells_wildfire_state_year %>%
group_by(state) %>%
summarize(n = sum(n_wells)) %>%
ggplot() +
geom_bar(aes(state, n), stat = "identity") +
labs(x = "State", y = "Wells (n)") +
theme_classic()
wells_wildfire_state_year %>%
filter(year %in% c(1984:2020)) %>%
group_by(state, year) %>%
summarize(n = sum(n_wells),
n_wells_buffer_1km = sum(n_wells_buffer_1km))
wells_wildfire_state_year %>%
group_by(state, year) %>%
summarize(n = sum(n_wells)) %>%
ggplot() +
geom_bar(aes(year, n), stat = "identity") +
labs(x = "Year", y = "Wells (n)") +
facet_wrap(. ~ state) +
theme_classic()
wells_wildfire_state_year %>%
filter(year %in% c(1984:2019)) %>%  # omitting 2020 with incomplete fire data
group_by(state, year) %>%
summarize(n = sum(n_wells)) %>%
ggplot(aes(year, n)) +
geom_point() +
geom_smooth(method = "lm", color = "black") +
geom_smooth(method = "lm", color = "blue", formula = y ~ poly(x, 2)) +
labs(x = "Year", y = "Wells (n)") +
facet_wrap(. ~ state) +
theme_classic()
model_fit <- glm(n_wells ~ year,
data = subset(wells_wildfire_state_year, state == "CA"))
summary(model_fit)
model_fit <- glm(n_wells ~ year,
data = subset(wells_wildfire_state_year, state == "OK"))
summary(model_fit)
model_fit <- glm(n_wells ~ year,
data = subset(wells_wildfire_state_year, state == "TX"))
summary(model_fit)
model_fit <- glm(n_wells ~ year,
data = subset(wells_wildfire_state_year, state == "KS"))
summary(model_fit)
model_fit <- glm(n_wells ~ year,
data = subset(wells_wildfire_state_year, state == "NM"))
summary(model_fit)
model_fit <- glm(n_wells ~ year,
data = subset(wells_wildfire_state_year, state == "WY"))
summary(model_fit)
